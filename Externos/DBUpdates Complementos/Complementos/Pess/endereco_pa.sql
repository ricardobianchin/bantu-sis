SET TERM ^;
CREATE OR ALTER PACKAGE ENDERECO_PA
AS
BEGIN
  PROCEDURE UF_SIGLA_LISTA_GET
  RETURNS (
      UF_SIGLA CHAR(2),
      UF_IBGE_ID ID_SHORT_DOM
  );
  
  PROCEDURE MUNICIPIO_LISTA_GET
  (
    UF_SIGLA CHAR(2)
  )
  RETURNS
  (
    MUNICIPIO_IBGE_ID CHAR(5)
    , NOME NOME_DOM
  );
END^

RECREATE PACKAGE BODY ENDERECO_PA
AS
BEGIN
  PROCEDURE UF_SIGLA_LISTA_GET
  RETURNS (
      UF_SIGLA CHAR(2),
      UF_IBGE_ID ID_SHORT_DOM
  )
  AS
  BEGIN
    FOR SELECT
      UF_SIGLA,
      UF_IBGE_ID
    FROM UF
    ORDER BY UF_SIGLA
    INTO :UF_SIGLA,
      :UF_IBGE_ID
    DO
    BEGIN
      SUSPEND;
    END
  END
  
  PROCEDURE MUNICIPIO_LISTA_GET
  (
    UF_SIGLA CHAR(2)
  )
  RETURNS
  (
    MUNICIPIO_IBGE_ID CHAR(5)
    , NOME NOME_DOM
  )
  AS
  BEGIN
    FOR SELECT
      MUNICIPIO_IBGE_ID,
      NOME
    FROM MUNICIPIO
    WHERE UF_SIGLA = :UF_SIGLA
    ORDER BY NOME
    INTO :MUNICIPIO_IBGE_ID,
        :NOME
    DO
    BEGIN
      SUSPEND;
    END
  END
END^
SET TERM ;^
