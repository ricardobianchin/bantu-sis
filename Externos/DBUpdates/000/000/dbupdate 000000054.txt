FIN PAGAMENTO FORMA ED PA
PAGAMENTO_FORMA_ED_PA
--------------
DBATUALIZ INI
DBATUALIZ_ASSUNTO=FIN PAGAMENTO FORMA ED
DBATUALIZ_OBJETIVO=PAGAMENTO_FORMA_ED_PA
DBATUALIZ_OBS=




//PACKAGE PAGAMENTO_FORMA_ED_PA

COMANDO INI
COMANDO_TIPO=CREATE OR ALTER PACKAGE
OBJETO_NOME=PAGAMENTO_FORMA_ED_PA

/*
in "C:\Pr\app\bantu\bantu-sis\Src\Externos\DBUpdates\000\000\Complementos\Fin\PAGAMENTO_FORMA_ED_PA.sql";
C:\Pr\app\bantu\bantu-sis\Src\Externos\DBUpdates\000\000\Complementos\Fin\PAGAMENTO_FORMA_ED_PA.sql
Complementos\PAGAMENTO\PAGAMENTO_FORMA_ED_PA.sql
*/
```FIREBIRD
SET TERM ^;
CREATE OR ALTER PACKAGE PAGAMENTO_FORMA_ED_PA
AS
BEGIN
  PROCEDURE DESCRS_EXISTENTES_GET 
  (
    PAGAMENTO_FORMA_ID_EXCETO ID_SHORT_DOM NOT NULL,
    PAGAMENTO_FORMA_TIPO_ID ID_CHAR_DOM NOT NULL,
    DESCR NOME_INTERM_DOM NOT NULL,
    DESCR_RED CHAR(8) NOT NULL
  )
  RETURNS 
  (
    PAGAMENTO_FORMA_ID_RET INTEGER,
    DESCR_RET NOME_INTERM_DOM,
    DESCR_RED_RET CHAR(8)
  );
END^

RECREATE PACKAGE BODY PAGAMENTO_FORMA_ED_PA
AS
BEGIN
PROCEDURE DESCRS_EXISTENTES_GET 
  (
    PAGAMENTO_FORMA_ID_EXCETO ID_SHORT_DOM NOT NULL,
    PAGAMENTO_FORMA_TIPO_ID ID_CHAR_DOM NOT NULL,
    DESCR NOME_INTERM_DOM NOT NULL,
    DESCR_RED CHAR(8) NOT NULL
  )
  RETURNS 
  (
    PAGAMENTO_FORMA_ID_RET INTEGER,
    DESCR_RET NOME_INTERM_DOM,
    DESCR_RED_RET CHAR(8)
  )
  AS
  BEGIN
    FOR 
      SELECT PAGAMENTO_FORMA_ID, DESCR, DESCR_RED
      FROM PAGAMENTO_FORMA
      WHERE PAGAMENTO_FORMA_TIPO_ID = :PAGAMENTO_FORMA_TIPO_ID 
      AND (DESCR = :DESCR OR DESCR_RED = :DESCR_RED)
      AND (PAGAMENTO_FORMA_ID <> :PAGAMENTO_FORMA_ID_EXCETO)
      INTO :PAGAMENTO_FORMA_ID_RET, :DESCR_RET, :DESCR_RED_RET
      DO
        SUSPEND;
  END
END^
SET TERM ;^
```
COMANDO FIM
//PACKAGE PROD_BARRAS_PA FIM

DBATUALIZ FIM


